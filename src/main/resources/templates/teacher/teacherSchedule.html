<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LinguaSphere</title>
  <link rel="stylesheet" href="/style/teacher/teacherScheduleStyle.css">
  <link rel="stylesheet" href="/style/dropdownStyle.css">
</head>

<body>
<header>
  <div th:replace="~{/shared/layout5}"></div>
</header>

<main style="display: flex;">
  <aside>
    <img src="/photo.png" width="200" height="200" alt="user photo header"><br>

    <b th:text="${teacher.name + '   ' + teacher.surname}"></b><br><br>

    <p>Електронна пошта:</p>
    <p><i th:text="${teacher.email}"></i></p><br>

    <p>Номер телефону:</p>
    <p><i th:text="${teacher.phone}"></i></p><br>

    <p>Додатковий контакт:</p>
    <p><i th:text="${teacher.contacts}"></i></p><br>
  </aside>

  <div>
    <table>
      <tr>
        <th></th>
        <th>Пн</th>
        <th>Вт</th>
        <th>Ср</th>
        <th>Чт</th>
        <th>Пт</th>
        <th>Сб</th>
        <th>Нд</th>
      </tr>

      <tr th:each="hour, hourStat : ${#numbers.sequence(8, 23)}">
        <th th:text="${hour} + ':00-' + (${hour + 1}) + ':00'"></th>

        <td th:each="row, rowStat : ${lessons}"
            th:class="${row[__${hour - 8}__] == 0 ? 'free' : (row[__${hour - 8}__] == 1 ? 'used' : 'lesson')}"
            th:attr="onclick=${row[__${hour - 8}__] == 1 ? 'submitCellUsed(__${hour - 8}__, ' + rowStat.index + ')' :
                    (row[__${hour - 8}__] == 0 ? 'submitCellFree(__${hour - 8}__, ' + rowStat.index + ')' : '')}"></td>
      </tr>
    </table>


    <div>
      <button th:attr="onclick='submitPageForm()'">Назад</button>
    </div>
  </div>
</main>

<form typeof="hidden" method="get" id="teacherPageForm" action="/teacher/teacherPage">
  <input type="hidden" th:value="${teacher.email}" name="email">
  <input type="hidden" th:value="${teacher.password}" name="password">
</form>

<form id="formCellSubmitUsed" typeof="hidden" method="post" action="/teacher/submitCellUsed">
  <input type="hidden" th:value="${teacher.email}" name="email">
  <input type="hidden" th:value="${teacher.password}" name="password">
  <input id="cellSubmitDayUsed" type="hidden" value="" name="day">
  <input id="cellSubmitTimeUsed" type="hidden" value="" name="time">
</form>

<form id="formCellSubmitFree" typeof="hidden" method="post" action="/teacher/submitCellFree">
  <input type="hidden" th:value="${teacher.email}" name="email">
  <input type="hidden" th:value="${teacher.password}" name="password">
  <input id="cellSubmitDayFree" type="hidden" value="" name="day">
  <input id="cellSubmitTimeFree" type="hidden" value="" name="time">
</form>

<footer>
  <table>
    <tr>
      <td>
        <p>Контактні дані:</p>
      </td>
      <td>
        <address>
          Електронна пошта: <a href="mailto:example@example.com">example@example.com</a>     Телефон: +38-(000)-000-00-00
        </address>
      </td>
      <td>
        <p>Copyright © 2023 LinguaSphere</p>
      </td>
    </tr>
  </table>
</footer>

<script src="/script/teacher/teacherPageForms.js"></script>
<script src="/script/dropdown.js"></script>
<script src="/script/teacher/teacherSchedule.js"></script>
</body>
</html>
